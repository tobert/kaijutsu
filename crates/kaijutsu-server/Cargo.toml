[package]
name = "kaijutsu-server"
version.workspace = true
edition.workspace = true
description = "SSH + Cap'n Proto server for kaijutsu"

[dependencies]
# Kaijutsu kernel (VFS + state + control plane)
kaijutsu-kernel.workspace = true
kaijutsu-crdt.workspace = true

# Kaish execution engine (spawned as subprocess, connected via IPC)
kaish-kernel.workspace = true
kaish-client.workspace = true

capnp.workspace = true
capnp-rpc.workspace = true
tokio.workspace = true
tokio-util.workspace = true
futures.workspace = true
russh.workspace = true
log.workspace = true
env_logger.workspace = true
thiserror.workspace = true
anyhow.workspace = true
shellexpand.workspace = true
async-trait.workspace = true
rand.workspace = true
uuid = { version = "1.0", features = ["v4"] }
dirs = "5"
serde_json = "1"
parking_lot = "0.12"

# No separate russh-keys needed - russh 0.56 includes keys module

[build-dependencies]
capnpc.workspace = true

[dev-dependencies]
kaijutsu-client = { path = "../kaijutsu-client" }
futures.workspace = true
